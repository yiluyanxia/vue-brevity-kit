import{u as B}from"./vue-router-3d96c2fa.js";import{C as M,S as Y}from"./index-d2b9e068.js";import{a as $,P as F}from"./key-3b961902.js";import{u as G}from"./lock-31147f4a.js";import{d as J,r as t,g as W,i as j,ab as x,ac as e,ah as a,u as k,ae as q,ag as g,e as o,a as l,af as Q,b as i,o as R,x as E}from"./runtime-core.esm-bundler-e1893df6.js";import{U as X,L as Z}from"./UserOutlined-cf9a456f.js";import{_ as ee}from"./plugin-vue_export-helper-c27b6911.js";import"./commonjsHelpers-48992372.js";import"./___vite-browser-external_commonjs-proxy-bc645068.js";import"./AntdIcon-ea494017.js";const te={class:"brevity-lockscreen-wrap"},se={class:"brevity-lockscreen"},oe={class:"lockscreen-title"},ae={class:"brevity-flip"},le={class:"lockscreen-time-box flip flip-front"},ce={class:"brevity-clock"},ne={class:"clock-box"},re={class:"clock-inner"},ie={class:"clock-center"},ue={class:"lockscreen-time"},_e={class:"time"},de={class:"date"},ve={class:"lockscreen-form-box flip flip-back"},pe={class:"avatar"},me={key:0,class:"error"},fe={class:"lockscreen-lock"},he=J({__name:"Lockscreen",setup(ke){const _=G(),O={VITE_APP_TITLE:"VUE Brevity Kit",VITE_APP_ALIAS:"VITE VUE TS Kit",VITE_APP_INTERNAL_VERSION:"(220916)",VITE_APP_COPYRIGHT:"© 2022",VITE_APP_COMPANY:"大湾区高新科技有限公司",VITE_APP_VERSION:"0.0.1 RELEASE",VITE_APP_REST_HOST:"",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0},d=B(),n=t(!1),r=t(""),v=t(!1),N=()=>{if(!r.value)return;const s=M.SHA1(r.value+Y).toString(),c=localStorage.getItem(F);if(s===c){v.value=!1,_.setLock(!1);const u=localStorage.getItem("LOCK_FULLPATH");u?d.push(u):d.push("/")}else v.value=!0},D=()=>{_.setLock(!1),d.push("/login")},U=()=>{n.value=!n.value,r.value=""},H=["日","一","二","三","四","五","六"],y=t(),P=t(),S=t(),p=t(),m=t(),I=t(),L=t(),T=t(),A=t(),V=t(),b=()=>{const s=new Date;y.value=s.getFullYear(),P.value=s.getMonth(),S.value=s.getDate(),p.value=s.getHours(),m.value=s.getMinutes(),I.value=s.getSeconds(),L.value=s.getDay(),T.value=m.value*6,A.value=p.value*30+30/60*36,V.value=I.value*6};let f;return W(()=>{_.setLock(!0),localStorage.setItem($,"1"),f=setInterval(b,1e3),b()}),j(()=>{f&&clearInterval(f)}),(s,c)=>{const u=i("a-input-password"),h=i("a-button"),K=i("a-input-group"),C=i("a-col"),z=i("a-row");return R(),x("div",te,[e("div",se,[e("h3",oe,a(k(O).VITE_APP_TITLE)+" ",1),e("div",{class:q(["brevity-flip-box",{hover:n.value}])},[e("div",ae,[e("div",le,[e("div",ce,[e("div",ne,[e("div",re,[e("div",ie,[e("div",{class:"minute-hand",style:g({transform:`rotate(${T.value}deg)`})},null,4),e("div",{class:"hour-hand",style:g({transform:`rotate(${A.value}deg)`})},null,4),e("div",{class:"second-hand",style:g({transform:`rotate(${V.value}deg)`})},null,4)])])])]),e("div",ue,[e("div",_e,a(p.value)+":"+a(m.value)+" 周 "+a(H[L.value]),1),e("div",de,a(y.value)+"/"+a(P.value)+"/"+a(S.value),1)])]),e("div",ve,[e("div",pe,[o(k(X),{class:"icon"})]),o(K,{compact:"",size:"large"},{default:l(()=>[o(u,{size:"large",autocomplete:"new-password",value:r.value,"onUpdate:value":c[0]||(c[0]=w=>r.value=w),style:{width:"calc(100% - 80px)","text-align":"left"}},null,8,["value"]),o(h,{type:"primary",size:"large",onClick:N},{default:l(()=>[E("登录")]),_:1})]),_:1}),v.value?(R(),x("div",me,"密码错误")):Q("",!0),o(z,{gutter:[24,24],class:"lockscreen-form-row"},{default:l(()=>[o(C,{span:12},{default:l(()=>[o(h,{type:"primary",ghost:"",block:"",onClick:D},{default:l(()=>[E("重新登录")]),_:1})]),_:1}),o(C,{span:12},{default:l(()=>[o(h,{type:"primary",ghost:"",block:"",onClick:U},{default:l(()=>[E("取消")]),_:1})]),_:1})]),_:1})])])],2),e("div",fe,[e("div",{class:"lock-inner",onClick:c[1]||(c[1]=w=>n.value=!n.value)},[o(k(Z),{class:"icon"})])])])])}}});const be=ee(he,[["__scopeId","data-v-55d8e719"]]);export{be as default};
